# Production values for ruby-demo-app
# Flux image setters will update these values automatically

image:
  repository: registry.lvs.me.uk/ruby-demo-app   # {"$imagepolicy": "flux-system:ruby-demo-app:name"}
  tag: "1.0.0"                                    # {"$imagepolicy": "flux-system:ruby-demo-app:tag"}
  pullPolicy: IfNotPresent

replicaCount: 2

service:
  type: ClusterIP
  port: 80
  targetPort: 4567

env:
  - name: DATABASE_URL
    value: postgresql://ruby_demo_user:CHANGEME@postgresql:5432/ruby_demo
  - name: RACK_ENV
    value: production

resources:
  requests:
    cpu: "200m"
    memory: "256Mi"
  limits:
    cpu: "1"
    memory: "1Gi"
